{"ast":null,"code":"import React,{useState,useEffect}from'react';import PokemonCard from'./PokemonCard';import Pagination from'./Pagination';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PokemonList(_ref){let{onPageChange}=_ref;const[pokemonList,setPokemonList]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(0);const[loading,setLoading]=useState(false);useEffect(()=>{const fetchPokemon=async()=>{setLoading(true);const limit=24;const offset=(currentPage-1)*limit;try{const response=await fetch(\"https://pokeapi.co/api/v2/pokemon?offset=\".concat(offset,\"&limit=\").concat(limit));if(!response.ok)throw new Error('Failed to fetch Pokemon');const data=await response.json();setTotalPages(Math.ceil(data.count/limit));const pokemonDetailsPromises=data.results.map(pokemon=>fetchPokemonDetails(pokemon.url));const pokemonDetails=await Promise.all(pokemonDetailsPromises);setPokemonList(pokemonDetails);}catch(error){console.error('Error fetching Pokemon:',error);}finally{setLoading(false);}};fetchPokemon();},[currentPage]);const fetchPokemonDetails=async url=>{const response=await fetch(url);if(!response.ok)throw new Error('Failed to fetch Pokemon details');return await response.json();};return/*#__PURE__*/_jsxs(\"div\",{className:\"pokemon-list\",children:[loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):pokemonList.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"pokemon-cards-container\",children:pokemonList.map((pokemon,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"pokemon-card-wrapper\",children:/*#__PURE__*/_jsx(PokemonCard,{pokemon:pokemon})},index))}):/*#__PURE__*/_jsx(\"div\",{children:\"No Pokemon found.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"page-next\",children:/*#__PURE__*/_jsx(Pagination,{currentPage:currentPage,totalPages:totalPages,onPageChange:setCurrentPage})})]});}export default PokemonList;","map":{"version":3,"names":["React","useState","useEffect","PokemonCard","Pagination","jsx","_jsx","jsxs","_jsxs","PokemonList","_ref","onPageChange","pokemonList","setPokemonList","currentPage","setCurrentPage","totalPages","setTotalPages","loading","setLoading","fetchPokemon","limit","offset","response","fetch","concat","ok","Error","data","json","Math","ceil","count","pokemonDetailsPromises","results","map","pokemon","fetchPokemonDetails","url","pokemonDetails","Promise","all","error","console","className","children","length","index"],"sources":["C:/Users/brixe/Documents/GitHub/Maja4666-github.io/src/components/PokemonList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PokemonCard from './PokemonCard';\r\nimport Pagination from './Pagination';\r\n\r\n\r\nfunction PokemonList({ onPageChange }) {\r\n  const [pokemonList, setPokemonList] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchPokemon = async () => {\r\n      setLoading(true);\r\n      const limit = 24;\r\n      const offset = (currentPage - 1) * limit;\r\n      try {\r\n        const response = await fetch(`https://pokeapi.co/api/v2/pokemon?offset=${offset}&limit=${limit}`);\r\n        if (!response.ok) throw new Error('Failed to fetch Pokemon');\r\n        const data = await response.json();\r\n        setTotalPages(Math.ceil(data.count / limit));\r\n        const pokemonDetailsPromises = data.results.map((pokemon) =>\r\n          fetchPokemonDetails(pokemon.url)\r\n        );\r\n        const pokemonDetails = await Promise.all(pokemonDetailsPromises);\r\n        setPokemonList(pokemonDetails);\r\n      } catch (error) {\r\n        console.error('Error fetching Pokemon:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPokemon();\r\n  }, [currentPage]);\r\n\r\n  const fetchPokemonDetails = async (url) => {\r\n    const response = await fetch(url);\r\n    if (!response.ok) throw new Error('Failed to fetch Pokemon details');\r\n    return await response.json();\r\n  };\r\n\r\n  return (\r\n    <div className=\"pokemon-list\">\r\n      {loading ? <div>Loading...</div> : pokemonList.length > 0 ? (\r\n        <div className=\"pokemon-cards-container\">\r\n          {pokemonList.map((pokemon, index) => (\r\n            <div key={index} className=\"pokemon-card-wrapper\">\r\n              <PokemonCard pokemon={pokemon} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : <div>No Pokemon found.</div>}\r\n      <div className='page-next'>\r\n        <Pagination currentPage={currentPage} totalPages={totalPages} onPageChange={setCurrentPage} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PokemonList;\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}